\hypertarget{_main_activity_8java_source}{}\doxysection{Main\+Activity.\+java}
\label{_main_activity_8java_source}\index{app/src/main/java/com/snail/weatheronline/MainActivity.java@{app/src/main/java/com/snail/weatheronline/MainActivity.java}}
\mbox{\hyperlink{_main_activity_8java}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00001}00001 \textcolor{keyword}{package }com.snail.weatheronline;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00003}00003 \textcolor{keyword}{import} androidx.appcompat.app.AppCompatActivity;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00005}00005 \textcolor{keyword}{import} android.annotation.SuppressLint;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00006}00006 \textcolor{keyword}{import} android.os.AsyncTask;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00007}00007 \textcolor{keyword}{import} android.os.Bundle;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00008}00008 \textcolor{keyword}{import} android.util.Log;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00009}00009 \textcolor{keyword}{import} android.view.View;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00010}00010 \textcolor{keyword}{import} android.view.inputmethod.InputMethodManager;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00011}00011 \textcolor{keyword}{import} android.widget.EditText;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00012}00012 \textcolor{keyword}{import} android.widget.ImageButton;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00013}00013 \textcolor{keyword}{import} android.widget.TextView;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00014}00014 \textcolor{keyword}{import} android.widget.Toast;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00016}00016 \textcolor{keyword}{import} org.json.JSONException;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00017}00017 \textcolor{keyword}{import} org.json.JSONObject;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00019}00019 \textcolor{keyword}{import} java.io.BufferedReader;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00020}00020 \textcolor{keyword}{import} java.io.IOException;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00021}00021 \textcolor{keyword}{import} java.io.InputStream;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00022}00022 \textcolor{keyword}{import} java.io.InputStreamReader;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00023}00023 \textcolor{keyword}{import} java.net.HttpURLConnection;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00024}00024 \textcolor{keyword}{import} java.net.URL;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00027}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity}{00027}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity}{MainActivity}} \textcolor{keyword}{extends} AppCompatActivity \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00030}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9b75fb7484fd1f8548806ab658a188c3}{00030}}     \textcolor{keyword}{private} TextView \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9b75fb7484fd1f8548806ab658a188c3}{textViewCity}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00032}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a79dd39fc86393f7d58f5cbb49448e107}{00032}}     \textcolor{keyword}{private} TextView \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a79dd39fc86393f7d58f5cbb49448e107}{textViewDescription}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00034}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a38865f9cf05bf34bc743522bc0eac852}{00034}}     \textcolor{keyword}{private} TextView \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a38865f9cf05bf34bc743522bc0eac852}{textViewTemperature}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00036}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9109f07964e7cce2e0a7897467829070}{00036}}     \textcolor{keyword}{private} TextView \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9109f07964e7cce2e0a7897467829070}{textViewWater}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00038}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_ae127850879a4b056138b974981ca62eb}{00038}}     \textcolor{keyword}{private} TextView \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_ae127850879a4b056138b974981ca62eb}{textViewWindy}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00040}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a1bb5e94e11f5ff5d862eec684a6f02fa}{00040}}     \textcolor{keyword}{private} TextView \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a1bb5e94e11f5ff5d862eec684a6f02fa}{textViewJSON}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00042}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a0d76395008c38ff9a5be0355eedb8052}{00042}}     \textcolor{keyword}{private} EditText \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a0d76395008c38ff9a5be0355eedb8052}{editTextCityName}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00048}00048     @Override}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00049}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9aad596f0390d960865d3f10b7051789}{00049}}     \textcolor{keyword}{protected} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9aad596f0390d960865d3f10b7051789}{onCreate}}(Bundle savedInstanceState) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00050}00050         super.onCreate(savedInstanceState);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00051}00051         setContentView(R.layout.activity\_main);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00053}00053         \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a0d76395008c38ff9a5be0355eedb8052}{editTextCityName}} = findViewById(R.id.editTextNameCity);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00055}00055         \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9b75fb7484fd1f8548806ab658a188c3}{textViewCity}}        = findViewById(R.id.textViewNameCity);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00056}00056         \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a38865f9cf05bf34bc743522bc0eac852}{textViewTemperature}} = findViewById(R.id.textViewTemperature);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00057}00057         \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a79dd39fc86393f7d58f5cbb49448e107}{textViewDescription}} = findViewById(R.id.textViewDescription);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00058}00058         \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9109f07964e7cce2e0a7897467829070}{textViewWater}}       = findViewById(R.id.textViewWater);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00059}00059         \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a1bb5e94e11f5ff5d862eec684a6f02fa}{textViewJSON}}        = findViewById(R.id.textViewJSONAns);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00060}00060         \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_ae127850879a4b056138b974981ca62eb}{textViewWindy}}       = findViewById(R.id.textViewWind);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00061}00061 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00062}00062         ImageButton bGetWeather = findViewById(R.id.imageButton);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00063}00063         bGetWeather.setOnClickListener(v -\/> \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00064}00064             String city = \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_ad40627992d30f8d9f13ca1d74252fa3f}{GetCity}}();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00065}00065             \textcolor{keywordflow}{if} (city.equals(\textcolor{stringliteral}{"{}"{}})) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00066}00066                 \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a0d76395008c38ff9a5be0355eedb8052}{editTextCityName}}.setError(\textcolor{stringliteral}{"{}Введите город"{}});}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00067}00067             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00068}00068                 \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a24ce97add2a03df31266a10c61f8b637}{makeRequest}}(city);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00069}00069                 \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_acfd2d7593dfea154f2a951ae2a2839c6}{closeKeyboard}}();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00070}00070             \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00071}00071         \});}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00072}00072     \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00077}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_acfd2d7593dfea154f2a951ae2a2839c6}{00077}}     \textcolor{keyword}{private} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_acfd2d7593dfea154f2a951ae2a2839c6}{closeKeyboard}}() \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00078}00078         View view = getCurrentFocus();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00080}00080         \textcolor{keywordflow}{if} (view != \textcolor{keyword}{null}) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00081}00081             InputMethodManager manager = (InputMethodManager) getSystemService(INPUT\_METHOD\_SERVICE);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00082}00082             manager.hideSoftInputFromWindow(view.getWindowToken(), 0);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00083}00083         \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00084}00084     \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00090}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_ad40627992d30f8d9f13ca1d74252fa3f}{00090}}     \textcolor{keyword}{private} String \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_ad40627992d30f8d9f13ca1d74252fa3f}{GetCity}}() \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00091}00091         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a0d76395008c38ff9a5be0355eedb8052}{editTextCityName}}.getText().toString().trim();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00092}00092     \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00093}00093 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00098}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a24ce97add2a03df31266a10c61f8b637}{00098}}     \textcolor{keyword}{private} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a24ce97add2a03df31266a10c61f8b637}{makeRequest}}(String city) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00099}00099         String api\_key = getResources().getString(R.string.apiWeatherOnline);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00100}00100         \textcolor{keywordflow}{if} (api\_key.equals(\textcolor{stringliteral}{"{}"{}})) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00101}00101             Toast.makeText(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}Укажите api ключ"{}}, Toast.LENGTH\_LONG).show();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00102}00102             \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00103}00103         \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00104}00104         String url = \textcolor{stringliteral}{"{}http://api.openweathermap.org/data/2.5/weather?q="{}} + city + \textcolor{stringliteral}{"{}\&appid="{}} + api\_key + \textcolor{stringliteral}{"{}\&units=metric\&lang=ru"{}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00105}00105 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00106}00106         \textcolor{keyword}{new} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online}{GetWeatherOnline}}().execute(url);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00107}00107     \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00110}00110     @SuppressLint(\textcolor{stringliteral}{"{}StaticFieldLeak"{}})}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00111}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online}{00111}}     private class \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online}{GetWeatherOnline}} extends AsyncTask<String, String, String> \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00116}00116         @Override}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00117}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_ae7f8d8508e60dc2dacc0a7312a3ed4b8}{00117}}         \textcolor{keyword}{protected} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_ae7f8d8508e60dc2dacc0a7312a3ed4b8}{onPreExecute}}() \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00118}00118             super.onPreExecute();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00119}00119             \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9b75fb7484fd1f8548806ab658a188c3}{textViewCity}}.setText(\textcolor{stringliteral}{"{}Идет запрос..."{}});}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00120}00120         \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00127}00127         @Override}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00128}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_a0463df6d9a89f65d3bf5f5e6374eace6}{00128}}         \textcolor{keyword}{protected} String \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_a0463df6d9a89f65d3bf5f5e6374eace6}{doInBackground}}(String... strings) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00129}00129             HttpURLConnection connection = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00130}00130             BufferedReader    bufRead    = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00131}00131 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00132}00132             Log.i(\textcolor{stringliteral}{"{}AsyncTask connect"{}}, strings[0]);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00134}00134             \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00135}00135                 URL url = \textcolor{keyword}{new} URL(strings[0]);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00136}00136                 connection = (HttpURLConnection) url.openConnection();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00137}00137                 connection.connect();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00138}00138 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00139}00139                 InputStream stream;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00140}00140                 \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00141}00141                     stream = connection.getInputStream();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00142}00142                 \} \textcolor{keywordflow}{catch}(IOException exception) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00143}00143                     stream = connection.getErrorStream();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00144}00144                 \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00146}00146                 bufRead = \textcolor{keyword}{new} BufferedReader(\textcolor{keyword}{new} InputStreamReader(stream));}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00147}00147                 StringBuilder strBuff = \textcolor{keyword}{new} StringBuilder();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00148}00148                 String line;}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00149}00149 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00150}00150                 \textcolor{keywordflow}{while} ((line = bufRead.readLine()) != \textcolor{keyword}{null}) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00151}00151                     strBuff.append(line).append(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00152}00152                 \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00153}00153 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00154}00154                 \textcolor{keywordflow}{return} strBuff.toString();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00155}00155             \} \textcolor{keywordflow}{catch} (IOException e) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00156}00156                 e.printStackTrace();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00157}00157             \} \textcolor{keywordflow}{finally} \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00158}00158                 \textcolor{keywordflow}{if} (connection != \textcolor{keyword}{null}) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00159}00159                     connection.disconnect();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00160}00160                 \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00161}00161                 \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00162}00162                     \textcolor{keywordflow}{if} (bufRead != \textcolor{keyword}{null}) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00163}00163                         bufRead.close();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00164}00164                     \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00165}00165                 \} \textcolor{keywordflow}{catch} (IOException e) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00166}00166                     e.printStackTrace();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00167}00167                 \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00168}00168             \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00170}00170             \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00171}00171         \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00172}00172 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00177}00177         @Override}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00178}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_adb70cd0a9d037ec8f96adc93ca6d6f9f}{00178}}         \textcolor{keyword}{protected} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_adb70cd0a9d037ec8f96adc93ca6d6f9f}{onPostExecute}}(String s) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00179}00179             super.onPostExecute(s);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00181}00181             \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a1bb5e94e11f5ff5d862eec684a6f02fa}{textViewJSON}}.setText(s);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00182}00182             \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00183}00183                 setWeather(s);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00184}00184             \} \textcolor{keywordflow}{catch} (JSONException e) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00185}00185                 e.printStackTrace();}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00186}00186             \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00187}00187         \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00188}00188 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00194}\mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_aefe6dc9ee7d19b90b69263904a687bc0}{00194}}         \textcolor{keyword}{private} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_1_1_get_weather_online_aefe6dc9ee7d19b90b69263904a687bc0}{setWeather}}(String response) \textcolor{keywordflow}{throws} JSONException \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00195}00195             JSONObject weatherJson = \textcolor{keyword}{new} JSONObject(response);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00196}00196 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00197}00197             \textcolor{keywordflow}{if} (weatherJson.getString(\textcolor{stringliteral}{"{}cod"{}}).equals(\textcolor{stringliteral}{"{}404"{}})) \{}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00198}00198                 \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9b75fb7484fd1f8548806ab658a188c3}{textViewCity}}.setText(\textcolor{stringliteral}{"{}Неверно указан город"{}});}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00199}00199                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00200}00200             \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00201}00201 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00202}00202             String city  = weatherJson.getString(\textcolor{stringliteral}{"{}name"{}});}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00203}00203 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00204}00204             String description = getResources().getString(R.string.textDescriptionStringResource) +}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00205}00205                                     weatherJson.getJSONArray(\textcolor{stringliteral}{"{}weather"{}}).getJSONObject(0).getString(\textcolor{stringliteral}{"{}description"{}});}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00206}00206 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00207}00207             String temp  = getResources().getString(R.string.textTemperatureStringResource) +}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00208}00208                     weatherJson.getJSONObject(\textcolor{stringliteral}{"{}main"{}}).getDouble(\textcolor{stringliteral}{"{}temp"{}}) + \textcolor{stringliteral}{"{}\(\backslash\)u00B0"{}} + \textcolor{stringliteral}{"{}C"{}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00210}00210             String water = getResources().getString(R.string.textWaterStringResource) +}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00211}00211                     weatherJson.getJSONObject(\textcolor{stringliteral}{"{}main"{}}).getDouble(\textcolor{stringliteral}{"{}humidity"{}}) + \textcolor{stringliteral}{"{}\%"{}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00213}00213             String wind  = getResources().getString(R.string.textWindStringResource) +}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00214}00214                     weatherJson.getJSONObject(\textcolor{stringliteral}{"{}wind"{}}).getDouble(\textcolor{stringliteral}{"{}speed"{}}) + \textcolor{stringliteral}{"{}м/с"{}};}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00215}00215 }
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00216}00216             \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9b75fb7484fd1f8548806ab658a188c3}{textViewCity}}.setText(city);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00217}00217             \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a79dd39fc86393f7d58f5cbb49448e107}{textViewDescription}}.setText(description);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00218}00218             \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a38865f9cf05bf34bc743522bc0eac852}{textViewTemperature}}.setText(temp);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00219}00219             \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_a9109f07964e7cce2e0a7897467829070}{textViewWater}}.setText(water);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00220}00220             \mbox{\hyperlink{classcom_1_1snail_1_1weatheronline_1_1_main_activity_ae127850879a4b056138b974981ca62eb}{textViewWindy}}.setText(wind);}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00221}00221         \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00222}00222     \}}
\DoxyCodeLine{\Hypertarget{_main_activity_8java_source_l00223}00223 \}}

\end{DoxyCode}
